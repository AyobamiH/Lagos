import{l as g,u as j,o as y,k as m,r as t,j as e,c as R}from"./index-CQqwMk0w.js";import{f as o}from"./format-CHNCD0FC.js";function b(){const{rideId:a}=g(),{token:i}=j(),{isEnabled:u}=y(),{push:p}=m(),[r,f]=t.useState(null),[x,l]=t.useState(!1),[d,c]=t.useState(null),n=u("receipts_ui");async function h(){if(!(!i||!a)){l(!0),c(null);try{const s=await R.receipt(i,a);f(s)}catch(s){c(s.friendlyMessage||s.error||"load_failed"),p({message:s.friendlyMessage||s.error||"Receipt load failed",type:"error"})}l(!1)}}return t.useEffect(()=>{n&&h()},[n,i,a]),n?x?e.jsx("p",{children:"Loading receipt..."}):d?e.jsx("p",{style:{color:"red"},children:d}):r?e.jsxs("div",{style:{display:"grid",gap:8},children:[e.jsx("h2",{children:"Ride Receipt"}),e.jsxs("div",{style:{background:"#fafafa",padding:8,borderRadius:4},children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Ride:"})," ",r.rideId]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",r.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Base Fare:"})," ",o(r.fare)]}),r.finalFare&&e.jsxs("p",{children:[e.jsx("strong",{children:"Final Fare:"})," ",o(r.finalFare)]}),r.surgeMultiplier&&e.jsxs("p",{children:[e.jsx("strong",{children:"Surge Multiplier:"})," x",r.surgeMultiplier]})]})]}):e.jsx("p",{children:"No receipt data."}):e.jsx("p",{style:{fontSize:12,opacity:.7},children:"Receipt feature not enabled."})}export{b as default};
