import{u as g,r,j as s,c as o}from"./index-CQqwMk0w.js";const x=()=>{const{token:t}=g(),[u,c]=r.useState([]),[i,d]=r.useState("1.0"),[a,n]=r.useState("");async function l(){if(t)try{const e=await o.surgeListVersions(t);c(e)}catch{}}return r.useEffect(()=>{l()},[t]),t?s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("h2",{children:"Surge Versions"}),s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[s.jsx("input",{value:i,onChange:e=>d(e.target.value),style:{width:90}}),s.jsx("input",{value:a,onChange:e=>n(e.target.value),placeholder:"Notes"}),s.jsx("button",{onClick:async()=>{try{await o.surgeUpsertVersion(t,{baseMultiplier:parseFloat(i)||1,notes:a}),n(""),l()}catch{}},children:"Upsert"})]}),s.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"grid",gap:6},children:u.map((e,p)=>s.jsxs("li",{style:{background:"#f1f5f9",padding:6,borderRadius:4,fontSize:12},children:["v",e.version??"?"," Â· base:",e.baseMultiplier," ",e.active&&s.jsx("strong",{children:"ACTIVE"})," ",e.notes&&s.jsx("em",{children:e.notes})]},p))})]}):s.jsx("p",{children:"Auth required"})};export{x as SurgePanel};
